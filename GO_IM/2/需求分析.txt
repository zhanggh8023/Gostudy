需求分析：
1、发送、接收
2、实现群聊
3、高并发=单机最好+分布式+弹性扩容

拆分需求：
1、实现功能界面，对双方样式进行异处理
2、实现资源标准化编码
（1）资源信息采集并标准化。转化成content/url
（2）资源编码，终极目标都是拼接一个消息体（Json/xml）
3、确保消息体的可扩展性
（1）兼容基础媒介如图片文字语音（URL、pic/content/num）
（2）能承载大量新业务，扩张不能对现有业务产生影响
（3）红包、打卡、签到、等本质上是消息内容不一样
4、接收消息并解析显示
（1）接收到消息体（json）并进行解析
（2）区分不同显示形式（图片、文字、语音）
（3）界面显示自己发的和别人发的
5、群聊的特殊性需求
（1）基础功能上无区别
（2）1条消息多个参与群聊的终端及时接收到
（3）服务器流量计算
    解决方案：
    1、使用缩略图提高单图下载和渲染速度；
    2、提高资源服务并发能力使用云服务（qos/alioss）,100ms以内
    3、压缩消息体，发送文件路径而不是整个文件
6、高并发
（1）单机并发性能最优
（2）海量的用户分布式部署
（3）应对突发性事件弹性扩容